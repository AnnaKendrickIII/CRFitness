!function(t,e){"use strict";function i(e){return j.formatter=s,t(this).on("click.boxer",t.extend({},j,e||{}),o)}function o(i){C(i);var o=t(this),a=i.data.$object,n=o[0].attributes?o.attr("href")||"":"",s=n.toLowerCase().split("."),l=s[s.length-1],c=o.data("type")||"",p="image"===c||"jpeg"===l||"jpg"===l||"gif"===l||"png"===l||"data:image"===n.substr(0,10),m=n.indexOf("youtube.com/embed")>-1||n.indexOf("player.vimeo.com/video")>-1,$="url"===c||!p&&!m&&"http"===n.substr(0,4),H="element"===c||!p&&!m&&!$&&"#"===n.substr(0,1),y="undefined"!=typeof a;if(t("#boxer").length<1&&(p||m||$||H||y)){if(z={$window:t(e),$body:t("body"),$target:o,$object:a,visible:!1,resizeTimer:null,touchTimer:null,gallery:{active:!1},options:i.data,isMobile:(k||i.data.mobile)&&!H},p?z.type="image":m?z.type="video":z.type="element",p||m){var W=z.$target.attr("rel");"undefined"!=typeof W&&W!==!1&&(z.gallery.active=!0,z.gallery.rel=W,z.gallery.$items=t("a[rel= "+z.gallery.rel+"]"),z.gallery.index=z.gallery.$items.index(z.$target),z.gallery.total=z.gallery.$items.length-1)}var M="";z.isMobile||(M+='<div id="boxer-overlay" class="'+z.options.customClass+'" style="opacity: 0"></div>'),M+='<div id="boxer" class="loading '+z.options.customClass,z.isMobile&&(M+=" mobile"),$&&(M+=" iframe"),(H||y)&&(M+=" inline"),M+='" style="opacity: 0;',z.options.fixed===!0&&(M+=" position: fixed;"),M+='">',M+='<span class="boxer-close">'+z.options.labels.close+"</span>",M+='<div class="boxer-container" style="',M+=z.isMobile?"height: 100%; width: 100%":"height: "+z.options.height+"px; width: "+z.options.width+"px",M+='">',M+='<div class="boxer-content" style="opacity: 0;">',(p||m)&&(M+='<div class="boxer-meta">',z.gallery.active?(M+='<div class="boxer-arrow previous">'+z.options.labels.previous+"</div>",M+='<div class="boxer-arrow next">'+z.options.labels.next+"</div>",M+="</p>",M+='<div class="boxer-caption gallery">'):M+='<div class="boxer-caption">',M+=z.options.formatter.apply(z.$body,[z.$target]),M+="</div></div>"),M+="</div></div></div>",z.$body.append(M),z.$overlay=t("#boxer-overlay"),z.$boxer=t("#boxer"),z.$container=z.$boxer.find(".boxer-container"),z.$content=z.$boxer.find(".boxer-content"),z.$meta=z.$boxer.find(".boxer-meta"),z.$position=z.$boxer.find(".boxer-position"),z.$caption=z.$boxer.find(".boxer-caption"),z.$arrows=z.$boxer.find(".boxer-arrow"),z.$animatables=t("#boxer-overlay, #boxer, .boxer-container"),z.paddingVertical=parseInt(z.$boxer.css("paddingTop"),10)+parseInt(z.$boxer.css("paddingBottom"),10),z.paddingHorizontal=parseInt(z.$boxer.css("paddingLeft"),10)+parseInt(z.$boxer.css("paddingRight"),10),d(),z.gallery.active&&b(),z.$window.on("resize.boxer",L.resize).on("keydown.boxer",w),z.$body.on("touchstart.boxer click.boxer","#boxer-overlay, #boxer .boxer-close",r).on("touchmove.boxer",C),z.gallery.active&&z.$boxer.on("touchstart.boxer click.boxer",".boxer-arrow",u),z.$overlay.stop().animate({opacity:z.options.opacity},z.options.duration),z.$boxer.stop().animate({opacity:1},z.options.duration,function(){p?g(n):m?h(n):$?v(n):H?f(n):y?x(z.$object):t.error("BOXER: '"+n+"' is not valid.")})}return y?z.$boxer:void 0}function a(){var t=0,e=0,i=0,o=z.isMobile?0:z.options.duration;z.isMobile||(t=(z.$window.width()-z.contentWidth-z.paddingHorizontal)/2,e=z.options.top<=0?(z.$window.height()-z.contentHeight-z.paddingVertical)/2:z.options.top,i=z.$arrows.outerHeight(),z.options.fixed!==!0&&(e+=z.$window.scrollTop()),z.$arrows.css({marginTop:(z.contentHeight-z.metaHeight-i)/2})),!z.visible&&z.isMobile&&z.gallery.active&&z.$content.on("touchstart.boxer",".boxer-image",H),(z.isMobile||z.options.fixed)&&z.$body.addClass("boxer-open"),z.$boxer.stop().animate({left:t,top:e},o),z.$container.show().stop().animate({height:z.containerHeight,width:z.containerWidth},o,function(t){z.$content.stop().animate({opacity:1},z.options.duration),z.$boxer.removeClass("loading").find(".boxer-close").stop().animate({opacity:1},z.options.duration),z.visible=!0,z.options.callback.apply(z.$boxer),z.$window.trigger("boxer.open"),z.gallery.active&&m()})}function n(t){if(t=t||!1,z.visible){var e=0,i=0,o=0;z.isMobile||(e=(z.$window.width()-z.contentWidth-z.paddingHorizontal)/2,i=z.options.top<=0?(z.$window.height()-z.contentHeight-z.paddingVertical)/2:z.options.top,o=z.$arrows.outerHeight(),z.options.fixed!==!0&&(i+=z.$window.scrollTop()),z.$arrows.css({marginTop:(z.contentHeight-z.metaHeight-o)/2})),t?(z.$boxer.stop().animate({left:e,top:i},z.options.duration),z.$container.show().stop().animate({height:z.containerHeight,width:z.containerWidth})):(z.$boxer.css({left:e,top:i}),z.$container.css({height:z.containerHeight,width:z.containerWidth}))}}function r(e){C(e),"undefined"!=typeof z.$animatables&&(z.$animatables.stop().animate({opacity:0},z.options.duration,function(){t(this).remove()}),I(z.resizeTimer),z.$window.off(".boxer"),z.$body.off(".boxer").removeClass("boxer-open"),z.gallery.active&&z.$boxer.off(".boxer"),z.isMobile&&"image"===z.type&&z.gallery.active&&z.$container.off(".boxer"),z.$window.trigger("boxer.close"),z={})}function d(){var t=0,e=0;z.isMobile||(t=(z.$window.width()-z.$boxer.width()-z.paddingHorizontal)/2,e=z.options.top<=0?(z.$window.height()-z.$boxer.height()-z.paddingVertical)/2:z.options.top,z.options.fixed!==!0&&(e+=z.$window.scrollTop())),z.$boxer.css({left:t,top:e})}function g(e){z.$image=t("<img />"),z.$image.one("load.boxer",function(){var t=T(z.$image);z.naturalHeight=t.naturalHeight,z.naturalWidth=t.naturalWidth,z.options.retina&&(z.naturalHeight/=2,z.naturalWidth/=2),z.$content.prepend(z.$image),""===z.$caption.html()?z.$caption.hide():z.$caption.show(),l(0)&&a()}).attr("src",e).addClass("boxer-image"),(z.$image[0].complete||4===z.$image[0].readyState)&&z.$image.trigger("load")}function h(e){z.$videoWrapper=t('<div class="boxer-video-wrapper" />'),z.$video=t('<iframe class="boxer-video" />'),z.$video.attr("src",e).addClass("boxer-video").prependTo(z.$videoWrapper),z.$content.prepend(z.$videoWrapper),p(),a()}function s(t){var e=t.attr("title");return""!==e&&void 0!==e?'<p class="caption">'+e+"</p>":""}function l(t){return z.windowHeight=z.viewportHeight=0===t?z.$window.height():z.windowHeight,z.windowWidth=z.viewportWidth=0===t?z.$window.width():z.windowWidth,z.imageHeight=0===t?z.naturalHeight:z.$image.outerHeight(),z.imageWidth=0===t?z.naturalWidth:z.$image.outerWidth(),z.metaHeight=0===t?0:z.metaHeight,0===t&&(z.ratioHorizontal=z.imageHeight/z.imageWidth,z.ratioVertical=z.imageWidth/z.imageHeight,z.isWide=z.imageWidth>z.imageHeight),z.imageHeight<z.options.minHeight&&(z.options.minHeight=z.imageHeight),z.imageWidth<z.options.minWidth&&(z.options.minWidth=z.imageWidth),z.isMobile?(z.containerHeight=z.viewportHeight-z.paddingVertical,z.containerWidth=z.viewportWidth-z.paddingHorizontal,z.contentHeight=z.containerHeight-z.metaHeight,z.contentWidth=z.containerWidth,c(z),z.imageMarginTop=(z.contentHeight-z.targetImageHeight)/2,z.imageMarginLeft=(z.contentWidth-z.targetImageWidth)/2):(z.viewportHeight-=z.options.margin+z.paddingVertical+z.metaHeight,z.viewportWidth-=z.options.margin+z.paddingHorizontal,c(z),z.containerHeight=z.contentHeight=z.targetImageHeight,z.containerWidth=z.contentWidth=z.targetImageWidth,z.imageMarginTop=0,z.imageMarginLeft=0),z.$content.css({height:z.isMobile?z.contentHeight:"auto",width:z.contentWidth}),z.$meta.css({width:z.contentWidth}),z.$image.css({height:z.targetImageHeight,width:z.targetImageWidth,marginTop:z.imageMarginTop,marginLeft:z.imageMarginLeft}),z.metaHeight=z.$meta.outerHeight(!0),z.contentHeight+=z.metaHeight,z.isMobile||(z.containerHeight+=z.metaHeight),z.contentHeight>z.viewportHeight&&2>t?l(t+1):!0}function c(){var t=z.isMobile?z.contentHeight-z.options.margin:z.viewportHeight,e=z.isMobile?z.contentWidth-z.options.margin:z.viewportWidth;z.isWide?(z.targetImageWidth=e,z.targetImageHeight=z.targetImageWidth*z.ratioHorizontal,z.targetImageHeight>t&&(z.targetImageHeight=t,z.targetImageWidth=z.targetImageHeight*z.ratioVertical)):(z.targetImageHeight=t,z.targetImageWidth=z.targetImageHeight*z.ratioVertical,z.targetImageWidth>e&&(z.targetImageWidth=e,z.targetImageHeight=z.targetImageWidth*z.ratioHorizontal)),(z.targetImageWidth>z.imageWidth||z.targetImageHeight>z.imageHeight)&&(z.targetImageWidth=z.imageWidth,z.targetImageHeight=z.imageHeight),(z.targetImageWidth<z.options.minWidth||z.targetImageHeight<z.options.minHeight)&&(z.targetImageWidth<z.options.minWidth?(z.targetImageWidth=z.options.minWidth,z.targetImageHeight=z.targetImageWidth*z.ratioHorizontal):(z.targetImageHeight=z.options.minHeight,z.targetImageWidth=z.targetImageHeight*z.ratioVertical))}function p(){z.windowHeight=z.$window.height()-z.paddingVertical,z.windowWidth=z.$window.width()-z.paddingHorizontal,z.videoMarginTop=0,z.videoMarginLeft=0,z.isMobile?(z.$meta.css({width:z.windowWidth}),z.metaHeight=z.$meta.outerHeight(!0),z.contentHeight=z.windowHeight,z.contentWidth=z.windowWidth,z.videoWidth=z.windowWidth,z.videoHeight=z.videoWidth*z.options.videoRatio,z.videoHeight>z.windowHeight-z.metaHeight&&(z.videoHeight=z.windowHeight-z.metaHeight,z.videoWidth=z.videoHeight*z.options.videoRatio),z.videoMarginTop=(z.contentHeight-z.videoHeight)/2,z.videoMarginLeft=(z.contentWidth-z.videoWidth)/2):(z.windowHeight-=z.options.margin,z.windowWidth-=z.options.margin,z.videoWidth=z.options.videoWidth>z.windowWidth?z.windowWidth:z.options.videoWidth,z.videoHeight=z.videoWidth*z.options.videoRatio,z.contentHeight=z.videoHeight,z.contentWidth=z.videoWidth),z.$content.css({height:z.isMobile?z.contentHeight:"auto",width:z.contentWidth}),z.$meta.css({width:z.contentWidth}),z.$videoWrapper.css({height:z.videoHeight,width:z.videoWidth,marginTop:z.videoMarginTop,marginLeft:z.videoMarginLeft}),z.isMobile||(z.metaHeight=z.$meta.outerHeight(!0),z.contentHeight=z.videoHeight+z.metaHeight),z.containerHeight=z.contentHeight,z.containerWidth=z.contentWidth=z.videoWidth}function m(e){var i="";z.gallery.index>0&&(i=z.gallery.$items.eq(z.gallery.index-1).attr("href"),i.indexOf("youtube.com/embed")<0&&i.indexOf("player.vimeo.com/video")<0&&t('<img src="'+i+'">')),z.gallery.index<z.gallery.total&&(i=z.gallery.$items.eq(z.gallery.index+1).attr("href"),i.indexOf("youtube.com/embed")<0&&i.indexOf("player.vimeo.com/video")<0&&t('<img src="'+i+'">'))}function u(e){C(e);var i=t(this);i.hasClass("disabled")||(z.$boxer.addClass("loading"),z.gallery.index+=i.hasClass("next")?1:-1,z.gallery.index>z.gallery.total&&(z.gallery.index=z.gallery.total),z.gallery.index<0&&(z.gallery.index=0),z.$content.stop().animate({opacity:0},z.options.duration,function(){"undefined"!=typeof z.$image&&z.$image.remove(),"undefined"!=typeof z.$videoWrapper&&z.$videoWrapper.remove(),z.$target=z.gallery.$items.eq(z.gallery.index),z.$caption.html(z.options.formatter.apply(z.$body,[z.$target]));var t=z.$target.attr("href"),e=t.indexOf("youtube.com/embed")>-1||t.indexOf("player.vimeo.com/video")>-1;e?h(t):g(t),b()}))}function b(){z.$arrows.removeClass("disabled"),0===z.gallery.index&&z.$arrows.filter(".previous").addClass("disabled"),z.gallery.index===z.gallery.total&&z.$arrows.filter(".next").addClass("disabled")}function w(t){!z.gallery.active||37!==t.keyCode&&39!==t.keyCode?27===t.keyCode&&z.$boxer.find(".boxer-close").trigger("click"):(C(t),z.$arrows.filter(37===t.keyCode?".previous":".next").trigger("click"))}function f(e){var i=t(e).find(">:first-child").clone();x(i)}function v(e){e+=e.indexOf("?")>-1?"&"+j.requestKey+"=true":"?"+j.requestKey+"=true";var i=t('<iframe class="boxer-iframe" src="'+e+'" />');x(i)}function x(t){z.$content.append(t),$(t),a()}function $(t){z.objectHeight=t.outerHeight(!0),z.objectWidth=t.outerWidth(!0),z.windowHeight=z.$window.height()-z.paddingVertical,z.windowWidth=z.$window.width()-z.paddingHorizontal,z.dataHeight=z.$target.data("height"),z.dataWidth=z.$target.data("width"),z.maxHeight=z.windowHeight<0?j.minHeight:z.windowHeight,z.isIframe=t.is("iframe"),z.objectMarginTop=0,z.objectMarginLeft=0,z.isMobile||(z.windowHeight-=z.options.margin,z.windowWidth-=z.options.margin),z.contentHeight=void 0!==z.dataHeight?z.dataHeight:z.isIframe?z.windowHeight:z.objectHeight,z.contentWidth=void 0!==z.dataWidth?z.dataWidth:z.isIframe?z.windowWidth:z.objectWidth,z.isIframe&&z.isMobile&&(z.contentHeight=z.windowHeight,z.contentWidth=z.windowWidth),z.containerHeight=z.contentHeight,z.containerWidth=z.contentWidth,z.$content.css({height:z.contentHeight,width:z.contentWidth})}function H(t){if(C(t),I(z.touchTimer),!z.isAnimating){var e="undefined"!=typeof t.originalEvent.targetTouches?t.originalEvent.targetTouches[0]:null;z.xStart=e?e.pageX:t.clientX,z.leftPosition=0,z.touchMax=1/0,z.touchMin=-(1/0),z.edge=.25*z.contentWidth,0===z.gallery.index&&(z.touchMax=0),z.gallery.index===z.gallery.total&&(z.touchMin=0),z.$boxer.on("touchmove.boxer",y).one("touchend.boxer",W)}}function y(t){var e="undefined"!=typeof t.originalEvent.targetTouches?t.originalEvent.targetTouches[0]:null;z.delta=z.xStart-(e?e.pageX:t.clientX),z.delta>20&&C(t),z.canSwipe=!0;var i=-z.delta;i<z.touchMin&&(i=z.touchMin,z.canSwipe=!1),i>z.touchMax&&(i=z.touchMax,z.canSwipe=!1),z.$image.css({transform:"translate3D("+i+"px,0,0)"}),z.touchTimer=M(z.touchTimer,300,function(){W(t)})}function W(t){C(t),I(z.touchTimer),z.$boxer.off("touchmove.boxer touchend.boxer"),z.delta&&(z.$boxer.addClass("animated"),z.swipe=!1,z.canSwipe&&(z.delta>z.edge||z.delta<-z.edge)?(z.swipe=!0,z.delta<=z.leftPosition?z.$image.css({transform:"translate3D("+z.contentWidth+"px,0,0)"}):z.$image.css({transform:"translate3D("+-z.contentWidth+"px,0,0)"})):z.$image.css({transform:"translate3D(0,0,0)"}),z.swipe&&z.$arrows.filter(z.delta<=z.leftPosition?".previous":".next").trigger("click"),M(z.resetTimer,z.options.duration,function(){z.$boxer.removeClass("animated")}))}function M(t,e,i){return I(t),setTimeout(i,e)}function I(t){t&&(clearTimeout(t),t=null)}function T(t){var e=t[0],i=new Image;return"undefined"!=typeof e.naturalHeight?{naturalHeight:e.naturalHeight,naturalWidth:e.naturalWidth}:"img"===e.tagName.toLowerCase()?(i.src=e.src,{naturalHeight:i.height,naturalWidth:i.width}):!1}function C(t){t.preventDefault&&(t.stopPropagation(),t.preventDefault())}var z={},k=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(e.navigator.userAgent||e.navigator.vendor||e.opera),j={callback:t.noop,customClass:"",duration:250,fixed:!1,formatter:t.noop,height:100,labels:{close:"Close",count:"of",next:"Next",previous:"Previous"},margin:100,minHeight:100,minWidth:100,mobile:!1,opacity:.75,retina:!1,requestKey:"boxer",top:0,videoRatio:.5625,videoWidth:600,width:100},L={defaults:function(e){return j=t.extend(j,e||{}),t(this)},destroy:function(){return r(),t(this).off(".boxer")},resize:function(e){return"undefined"!=typeof z.$boxer&&("element"===z.type?$(z.$content.find(">:first-child")):"image"===z.type?l(0):"video"===z.type&&p(),n()),t(this)}};t.fn.boxer=function(t){return L[t]?L[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?this:i.apply(this,arguments)},t.boxer=function(i,a){return L[i]?L[i].apply(e,Array.prototype.slice.call(arguments,1)):o.apply(e,[t.Event("click",{data:t.extend({$object:i},j,a||{})})])}}(jQuery,window);